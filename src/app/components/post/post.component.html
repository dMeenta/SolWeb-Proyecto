<div class="my-5 py-4 px-1 w-full bg-gradient-to-b from-violet-800 via-purple-700 to-violet-950 rounded-2xl">
  <div class="w-full rounded-xl p-2 bg-violet-950">
    <div class="flex gap-5 items-center">
      <div class="w-1/12 relative rounded-full">
        <img role="button" src="img/{{post.communityName}}_mini_card.jpg" (click)="goToCommunityPage()"
          class="select-none hover:cursor-pointer w-full rounded-full object-cover border-2 border-emerald-200 aspect-square">
        <div role="button" class="absolute bottom-0 right-0 w-7/12 cursor-pointer rounded-full"
          (click)="goToUserProfile()">
          <img src="img/profiles/{{post.posterProfilePicture}}.jpg"
            class="w-full rounded-full object-cover border-2 aspect-square">
        </div>
      </div>
      <div class="flex flex-col gap-0.5">
        <span class="text-xl font-semibold">{{post.posterUsername}}</span>
        <span class="font-light">En: {{post.communityName}}</span>
      </div>
    </div>
    <div class="mt-2 mb-3">
      {{post.content}}
    </div>
    <div class="flex justify-between items-center">
      <button (click)="toggleLike()" (mouseenter)="hovering.set(true)" (mouseleave)="hovering.set(false)"
        class=" text-sm group hover:cursor-pointer px-4 py-2 rounded-2xl font-semibold transition-all duration-300 flex gap-2 items-center"
        [ngClass]="liked()?'text-emerald-200 bg-teal-950 hover:bg-teal-900 hover:text-white':'bg-teal-900 hover:bg-teal-950 hover:text-emerald-200'">
        <i *ngIf="!liked() || (liked() && !hovering())"
          class="group-hover:scale-125 fa-solid fa-heart transition-all duration-200"></i>
        <i *ngIf="liked() && hovering()"
          class="group-hover:scale-125 fa-solid fa-heart-crack transition-all duration-200"></i>
        <span>{{liked() && hovering()? "I don't like it" :"I Like This"}}</span>
      </button>
      <button class="font-bold text-emerald-200 hover:cursor-pointer h-fit w-fit">
        {{post.likes.length}} Likes!
      </button>
    </div>
    <app-commentary-container [postId]="post.id" />
    <div class="bg-black/30 pt-1 pb-4 px-3 rounded-b-2xl">
      <textarea [(ngModel)]="commentContent" placeholder="Write a comment, share your thoughts..." rows="2"
        class="bg-violet-950 w-full p-2 overflow-y-auto resize-none placeholder:text-purple-400 placeholder:text-shadow-white text-white font-light rounded-xl transition duration-200"></textarea>
      <button [disabled]="!commentContent().trim()" (click)="createCommentary()"
        class="text-emerald-200 bg-teal-950 not-disabled:hover:bg-teal-800 not-disabled:hover:text-white not-disabled:hover:cursor-pointer disabled:opacity-70 rounded-full shadow-sm transition-all duration-300 px-4 py-2 font-semibold flex items-center">
        <i class="fa-solid fa-message mt-1 me-3"></i>
        Comment
      </button>
    </div>
  </div>
</div>